--- target-org/webkit/Source/bmalloc/libpas/src/libpas/pas_min_heap.h	2021-11-16 15:02:45.000000000 +0800
+++ target/webkit/Source/bmalloc/libpas/src/libpas/pas_min_heap.h	2022-07-10 11:45:19.000000000 +0800
@@ -260,7 +260,7 @@
         \
         size_t index = config.get_index(&element); \
         PAS_ASSERT(index); \
-        PAS_ASSERT(!bcmp(name##_get_ptr_by_index(min_heap, index), &element, sizeof(type))); \
+        PAS_ASSERT(!memcmp(name##_get_ptr_by_index(min_heap, index), &element, sizeof(type))); \
         name##_remove_by_index(min_heap, index); \
     } \
     \
--- target-org/webkit/Source/bmalloc/libpas/src/libpas/pas_thread_local_cache.c	2022-07-10 22:34:50.000000000 +0800
+++ target/webkit/Source/bmalloc/libpas/src/libpas/pas_thread_local_cache.c	2022-07-10 23:15:53.000000000 +0800
@@ -214,9 +214,9 @@
 #endif
 #if PAS_PLATFORM(PLAYSTATION)
     getname_result = pthread_get_name_np(thread, thread_name);
 #else
-    getname_result = pthread_getname_np(thread, thread_name, sizeof(thread_name));
+    getname_result = 1;
 #endif
     if (!getname_result)
         pas_log("[%d] thread %p has name %s\n", getpid(), (void*)thread, thread_name);
 
--- target-org/webkit/Source/cmake/OptionsCommon.cmake	2022-02-12 06:46:36.000000000 +0800
+++ target/webkit/Source/cmake/OptionsCommon.cmake	2022-07-10 22:56:50.000000000 +0800
@@ -7,5 +7,7 @@
 add_definitions(-DHAVE_CONFIG_H=1)
 add_definitions(-DPAS_BMALLOC=1)
+add_definitions(-DHAVE_MISSING_STD_FILESYSTEM_PATH_CONSTRUCTOR=1)
+SET_AND_EXPOSE_TO_BUILD(USE_INSPECTOR_SOCKET_SERVER ON)
 
 set_property(GLOBAL PROPERTY USE_FOLDERS ON)
 define_property(TARGET PROPERTY FOLDER INHERITED BRIEF_DOCS "folder" FULL_DOCS "IDE folder name")
--- target-org/webkit/Source/WTF/wtf/PlatformJSCOnly.cmake	2021-10-20 16:26:42.000000000 +0800
+++ target/webkit/Source/WTF/wtf/PlatformJSCOnly.cmake	2022-07-10 12:49:42.000000000 +0800
@@ -95,7 +95,7 @@
     list(APPEND WTF_PUBLIC_HEADERS
         spi/darwin/ProcessMemoryFootprint.h
     )
-elseif (CMAKE_SYSTEM_NAME MATCHES "Linux")
+elseif (CMAKE_SYSTEM_NAME MATCHES "Linux" OR CMAKE_SYSTEM_NAME MATCHES "Android")
     list(APPEND WTF_SOURCES
         linux/CurrentProcessMemoryStatus.cpp
         linux/MemoryFootprintLinux.cpp
--- target-org/webkit/Source/WTF/wtf/Compiler.h
+++ target/webkit/Source/WTF/wtf/Compiler.h
@@ -320,12 +320,6 @@
 
 /* MUST_TAIL_CALL */
 
-#if !defined(MUST_TAIL_CALL) && defined(__cplusplus) && defined(__has_cpp_attribute)
-#if __has_cpp_attribute(clang::musttail)
-#define MUST_TAIL_CALL [[clang::musttail]]
-#endif
-#endif
-
 #if !defined(MUST_TAIL_CALL)
 #define MUST_TAIL_CALL
 #endif
